---
# Feel free to add content and custom Front Matter to this file.

layout: default
---

<section class="mx-4">
  <div class="my-8 sm:my-20 flex space-x-4 lg:space-x-10 items-center mx-auto">
    <div class="flex-1"></div>

    <svg class="h-14 w-14 sm:h-20 sm:w-20 text-white" x="0px" y="0px" fill="currentColor" stroke="currentColor"
      viewBox="0 0 456.711 456.711" xml:space="preserve">
      <g>
        <path
          d="M420.086,40.679H268.458V15c0-8.284-6.716-15-15-15h-50.204c-8.284,0-15,6.716-15,15v25.679H36.625   c-8.284,0-15,6.716-15,15v172.677c0,8.284,6.716,15,15,15h151.628V406.51l-54.264-54.264c-5.857-5.858-15.355-5.858-21.213,0   c-5.858,5.858-5.858,15.355,0,21.213l53.252,53.252H79.355c-8.284,0-15,6.716-15,15s6.716,15,15,15h298c8.284,0,15-6.716,15-15   s-6.716-15-15-15h-88.393l53.252-53.252c5.858-5.858,5.858-15.355,0-21.213c-5.857-5.858-15.355-5.858-21.213,0l-52.544,52.544   V243.356h151.628c8.284,0,15-6.716,15-15V55.679C435.086,47.395,428.37,40.679,420.086,40.679z M218.254,30h20.204v10.679h-20.204   V30z M238.458,426.711h-20.204V243.356h20.204V426.711z M405.086,213.356H51.625V70.679h353.46V213.356z" />
        <path
          d="M83.641,159.637c2.325,2.4,5.037,4.264,8.137,5.588c3.1,1.325,6.4,1.987,9.9,1.987c5.299,0,9.975-1.875,14.025-5.625v5.25   h10.2v-27.825h-20.55v8.925h10.35v1.65c-3.851,4.451-8.175,6.675-12.975,6.675c-2.1,0-4.013-0.399-5.738-1.2   c-1.725-0.799-3.213-1.913-4.462-3.337c-1.25-1.425-2.225-3.113-2.925-5.063c-0.701-1.95-1.05-4.075-1.05-6.375   c0-2.25,0.325-4.35,0.975-6.3c0.649-1.95,1.575-3.662,2.775-5.137c1.2-1.475,2.637-2.625,4.313-3.45   c1.675-0.825,3.537-1.237,5.588-1.237c2.649,0,5.111,0.663,7.387,1.987c2.275,1.325,4.013,3.188,5.212,5.587l9.15-6.9   c-1.851-3.6-4.625-6.437-8.325-8.513c-3.701-2.074-8.025-3.112-12.975-3.112c-3.75,0-7.25,0.701-10.5,2.1   c-3.25,1.4-6.063,3.3-8.438,5.7c-2.375,2.4-4.237,5.226-5.587,8.475c-1.35,3.251-2.025,6.701-2.025,10.35   c0,4.05,0.675,7.763,2.025,11.138S81.316,157.237,83.641,159.637z" />
        <path
          d="M145.703,154.913h16.575l4.125,11.925h12.6l-19.425-53.25h-11.1l-19.425,53.25h12.6L145.703,154.913z M154.028,127.612   l6.225,18.825h-12.6L154.028,127.612z" />
        <path
          d="M196.553,149.663h8.025l10.2,17.175h13.875l-11.7-19.8c1.35-0.75,2.562-1.662,3.638-2.738   c1.075-1.075,1.987-2.288,2.737-3.637c0.75-1.35,1.324-2.787,1.725-4.313c0.4-1.525,0.6-3.113,0.6-4.763   c0-2.2-0.438-4.375-1.313-6.525c-0.875-2.149-2.088-4.075-3.638-5.775c-1.55-1.699-3.388-3.075-5.512-4.125   c-2.126-1.05-4.438-1.575-6.938-1.575h-24v53.25h12.3V149.663z M196.553,124.387h10.875c1.399,0,2.7,0.65,3.9,1.95   c1.2,1.301,1.8,3.05,1.8,5.25c0,2.15-0.525,3.913-1.575,5.288c-1.05,1.375-2.3,2.063-3.75,2.063h-11.25V124.387z" />
        <path
          d="M265.291,164.925c3.274-1.275,6.075-3.075,8.4-5.4c2.325-2.325,4.112-5.125,5.362-8.4c1.25-3.274,1.875-6.938,1.875-10.988   c0-3.649-0.563-7.087-1.688-10.313c-1.125-3.225-2.801-6.037-5.025-8.438c-2.226-2.4-4.987-4.299-8.288-5.7   c-3.3-1.399-7.151-2.1-11.55-2.1h-19.875v53.25h19.875C258.377,166.837,262.015,166.2,265.291,164.925z M246.803,124.387h7.575   c2.2,0,4.174,0.375,5.925,1.125c1.75,0.75,3.225,1.826,4.425,3.225c1.2,1.4,2.111,3.063,2.737,4.988   c0.625,1.925,0.938,4.063,0.938,6.412c0,2.301-0.313,4.414-0.938,6.338c-0.626,1.925-1.526,3.6-2.7,5.025   c-1.175,1.425-2.638,2.538-4.387,3.337c-1.751,0.8-3.75,1.2-6,1.2h-7.575V124.387z" />
        <polygon
          points="325.627,156.038 300.502,156.038 300.502,144.712 321.502,144.712 321.502,134.737 300.502,134.737    300.502,124.387 324.952,124.387 324.952,113.587 288.202,113.587 288.202,166.837 325.627,166.837  " />
        <polygon
          points="345.427,136.387 369.952,166.837 379.852,166.837 379.852,113.587 367.552,113.587 367.552,144.862    342.727,113.587 333.127,113.587 333.127,166.837 345.427,166.837  " />
      </g>
    </svg>

    <h1 class="text-center text-5xl sm:text-6xl font-extrabold sm:leading-7 text-white">
      Dashboard
    </h1>

    <div class="flex-1"></div>
  </div>

  <% grid_title_classes = "text-2xl font-bold leading-7 sm:text-3xl sm:truncate" %>
  <% grid_card_classes = "shadow-lg rounded-lg px-3 sm:px-6 truncate" %>
  <% date_format = "%A, %B %e" %>

  <div class="space-y-4 md:space-y-0 md:grid grid-cols-2 gap-4">
    <div class="bg-green-300 bg-opacity-90 space-x-4 py-8 sm:py-12 flex items-center <%= grid_card_classes %>">
      <% first_frost_date = next_occurring_date(Date.parse("April 3")) %>
      <% days_until_first_frost = (first_frost_date - Date.today).to_i %>

      <svg xmlns="http://www.w3.org/2000/svg" class="hidden lg:block text-green-500 text-opacity-40 h-24 w-24" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
      </svg>

      <div class="flex-1">
        <h2 class=" text-green-900 <%= grid_title_classes %>">First Frost Date</h2>

        <p class="font-semibold text-lg text-opacity-90 text-green-900">
          <%= first_frost_date.strftime(date_format) %>
        </p>
      </div>

      <div class="text-gray-800">
        <span class="text-5xl lg:text-7xl font-extrabold"><%= days_until_first_frost %></span>
        <span class="font-thin text-sm">days</span>
      </div>
    </div>

    <div class="bg-orange-300 bg-opacity-90 space-x-4 py-8 sm:py-12 flex items-center <%= grid_card_classes %>">
      <% last_frost_date = next_occurring_date(Date.parse("November 3")) %>
      <% days_until_last_frost = (last_frost_date - Date.today).to_i %>

      <svg xmlns="http://www.w3.org/2000/svg" class="hidden lg:block text-orange-500 text-opacity-40 h-24 w-24" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" />
      </svg>

      <div class="flex-1">
        <h2 class="text-orange-900 <%= grid_title_classes %>">Last Frost Date</h2>

        <p class="font-semibold text-opacity-90 text-orange-900">
          <%= last_frost_date.strftime(date_format) %>
        </p>
      </div>

      <div class="text-gray-800">
        <span class="text-5xl lg:text-7xl font-extrabold"><%= days_until_last_frost %></span>
        <span class="font-thin text-sm">days</span>
      </div>
    </div>

    <div class="bg-blue-300 py-8 sm:py-12 flex flex-col sm:items-center <%= grid_card_classes %> col-span-2">
      <% minimal_forecast = fetch_weather_forecast("0") %>
      <% narrow_forecast = fetch_weather_forecast("1n") %>
      <% wide_forecast = fetch_weather_forecast("1") %>

      <h2 class="sm:hidden text-blue-900 <%= grid_title_classes %> ml-4">Today's weather</h2>

      <div class="mt-4">
        <div class="sm:hidden text-xs sm:text-sm truncate">
          <pre><%= minimal_forecast %></pre>
        </div>

        <div class="hidden sm:block lg:hidden text-xs sm:text-sm truncate">
          <pre><%= narrow_forecast %></pre>
        </div>

        <div class="hidden lg:block text-sm xl:text-base truncate">
          <pre><%= wide_forecast %></pre>
        </div>
      </div>
    </div>
  </div>
</section>